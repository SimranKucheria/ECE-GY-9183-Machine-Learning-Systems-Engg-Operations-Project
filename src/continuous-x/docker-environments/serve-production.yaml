name: deeptrust_serve-production
services:
  fastapi_server:
    extends:
      file: ../serve/docker-compose-serve.yaml
      service: fastapi_server
    ports:
      - "8000:8000"  # for HTTP requests

  triton_server:
    extends:
      file: ../serve/docker-compose-serve.yaml
      service: triton_server
    ports:
      - "8010:8010"  # for HTTP requests
      - "8001:8001"  # for GRPC requests
      - "8002:8002"  # for reporting metrics

  vllm:
    extends:
      file: ../serve/docker-compose-serve.yaml
      service: vllm
    ports:
      - "8005:8000"  # for HTTP requests  

  jupyter:
    extends:
      file: ../serve/docker-compose-serve.yaml
      service: vllm
    ports:
      - "8888:8888"  # for HTTP requests 

